{"version":3,"file":"app.js","sources":["../node_modules/composi/lib/h.js","../node_modules/composi/lib/patch.js","../dev/components/hero-search.js","../dev/components/hero-dashboard.js","../dev/components/hero-list.js","../dev/components/hero-detail.js","../dev/utils/fetch-heroes.js","../node_modules/composi/lib/mixin.js","../node_modules/composi/lib/component.js","../dev/components/title.js","../dev/components/menu.js","../node_modules/webix-routie/lib/routie.js","../dev/app.js","../dev/components/app.js","../dev/utils/routes.js"],"sourcesContent":["/**\n * Hyperscript function. Enables definition of HTML/SVG using functions.\n * @param {string} type The name of the HTML or SVG tag to create.\n * @param {object} props And object of property/value pairs.\n * @param {string, number, boolean, any[]} children Any child elements.\n */\nexport function h(type, props, ...args) {\n  let stack = [], node\n  const children = []\n  stack = stack.concat(args)\n\n  // Got thru stack from front.\n  while (stack.length) {\n    // If child is array, process.\n    if (Array.isArray((node = stack.shift()))) {\n      node.map(item => stack.push(item))\n    // Else check if child is string or number.\n    } else if (node != null && typeof node !== 'boolean') {\n      typeof node === \"number\" ? node = node + '' : node\n      children.push(node)\n    }\n  }\n  \n  return typeof type === \"string\" \n    ? {type, props: props || {}, children } \n    : type(props || {}, children)\n}\n","/**\n * A function to merge two objects together. The properties of the second object will overwrite any matching properties in the first object.\n * @param {Object} obj1 The first object to merge.\n * @param {Object} obj2 The second object to merge.\n */\nfunction mixin(obj1, obj2) {\n  const result = {}\n  for (let i in obj1) {\n    result[i] = obj1[i]\n  }\n  for (let i in obj2) {\n    result[i] = obj2[i]\n  }\n  return result\n}\n\n/**\n * @constructor \n * @param {node} oldNode Original node or null.\n * @param {node} node New node.\n * @param {node} element The component root element.\n * @param {node} container The container element in which component is rendered.\n */\nexport function patch(oldNode, node, element, container) {\n  return diffAndPatch(container || document.body, element, oldNode, node)\n}\n\n/**\n * Patch functions:\n * setProps \n * createNode\n * createElement\n * getKey\n * updateElement\n * removeElement\n * diffAndPatch\n */\n\n/**\n * Function to set properties and attributes on element.\n * @param {node} element \n * @param {string} name \n * @param {string|number|boolean} value \n * @param {string|number|boolean} oldValue \n */\nfunction setProps(element, name, value, oldValue) {\n  if (name === 'key') {\n  } else if (name === 'style') {\n    for (let name in mixin(oldValue, (value = value || {}))) {\n      element.style[name] = String(value[name]) || ''\n    }\n  } else {\n    try {\n      if (value === 0) value = String(value)\n      element[name] = value\n    } catch (err) {}\n\n    if (typeof value !== 'function') {\n      if (!!value) {\n        // Support SVG 'xlink:href' property:\n        if (name === 'xlink-href') {\n          element.setAttributeNS('http://www.w3.org/1999/xlink', 'href', value)\n        } else {\n          element.setAttribute(name, value)\n        }\n      } else {\n        element.removeAttribute(name)\n      }\n    }\n  }\n}\n\n/**\n * Function to create an HTML or SVG node.\n * @param {node} node node A node to create.\n * @param {svg} svg Whether the node is SVG or not.\n */\nfunction createNode(node, svg) {\n  const element = (svg = svg || node.type === \"svg\")\n  ? document.createElementNS(\"http://www.w3.org/2000/svg\", node.type)\n  : document.createElement(node.type)\n\n  Object.keys(node.props).forEach(key => setProps(element, key, node.props[key]))\n  node.children.map(child => element.appendChild(createElement(child, svg)))\n  return element\n}\n\n/**\n * Function to convert hyperscript/JSX into DOM nodes.\n * @param {jsx|hyperscript} node A node to create.\n * @param {svg} svg Whether the node is SVG or not.\n */\nfunction createElement(node, svg) {\n  return typeof node === \"string\" ? document.createTextNode(node) : createNode(node, svg)\n}\n\n/**\n * Function to get a node's key.\n * @param {node} node \n */\nfunction getKey(node) {\n  if (node && node.props) {\n    return node.props.key\n  }\n}\n\n/**\n * Update an element with new values for properties and/or children.\n * @param {Element} element \n * @param {node} oldProps \n * @param {object} props \n */\nfunction updateElement(element, oldProps, props) {\n  Object.keys(mixin(oldProps, props)).forEach(key => {\n    let value = props[key]\n    let oldValue = key === \"value\" || key === \"checked\" ? element[key] : oldProps[key]\n\n    if (value !== oldValue) setProps(element, key, value, oldValue)\n  })\n}\n\n/**\n * Function to remove element from DOM.\n * @param {node} container The container of the element to remove.\n * @param {node} element The element to remove.\n */\nconst removeElement = (container, element) => container.removeChild(element)\n\n/**\n * Function to patch DOM. Diffs virtual nodes, then patches the DOM.\n * @param {node} container \n * @param {node} element \n * @param {node} oldNode \n * @param {node} node \n * @param {boolean} svg \n * @param {node} nextSibling \n */\nfunction diffAndPatch(container, element, oldNode, node, svg, nextSibling) {\n  // There is no oldNode, so this is first render.\n  if (oldNode == null) {\n    element = container.insertBefore(createElement(node, svg), element)\n  // There's an oldNode, so patch.\n  } else if (node.type != null && node.type === oldNode.type) {\n    updateElement(element, oldNode.props, node.props)\n\n    svg = svg || node.type === \"svg\"\n    const len = node.children.length\n    let oldLen = oldNode.children.length\n    let oldKeyed = {}\n    let oldElements = []\n    let keyed = {}\n\n    let k = 0\n    while (k < oldLen) {\n      let oldElement = (oldElements[k] = element.childNodes[k])\n      let oldChild = oldNode.children[k]\n      let oldKey = getKey(oldChild)\n      if (null != oldKey) oldKeyed[oldKey] = [oldElement, oldChild]\n      k++\n    }\n\n    let i = 0, j = 0\n    while (j < len) {\n      let oldElement = oldElements[i]\n      let oldChild = oldNode.children[i]\n      let newChild = node.children[j]\n      let oldKey = getKey(oldChild)\n      if (keyed[oldKey]) {\n        i++\n        continue\n      }\n      \n      let newKey = getKey(newChild)\n      let keyedNode = oldKeyed[newKey] || []\n      if (null == newKey) {\n        if (null == oldKey) {\n          diffAndPatch(element, oldElement, oldChild, newChild, svg)\n          j++\n        }\n        i++\n      } else {\n        oldKey === newKey ? diffAndPatch(element, keyedNode[0], keyedNode[1], newChild, svg) && i++ :\n        keyedNode[0] ? element.insertBefore(keyedNode[0], oldElement) && diffAndPatch(element, keyedNode[0], keyedNode[1], newChild, svg) : diffAndPatch(element, oldElement, null, newChild, svg)\n        \n        keyed[newKey] = newChild\n        j++\n      }\n    }\n\n    while (i < oldLen) {\n      let oldChild = oldNode.children[i]\n      let oldKey = getKey(oldChild)\n      if (null == oldKey) removeElement(element, oldElements[i])\n      i++\n    }\n\n    Object.keys(oldKeyed).forEach(key => {\n      let keyedNode = oldKeyed[key]\n      let reusableNode = keyedNode[1]\n      if (!keyed[reusableNode.props.key]) {\n        removeElement(element, keyedNode[0])\n      }\n    })\n  } else if (element && node !== element.nodeValue) {\n    if (typeof node === \"string\" && typeof oldNode === \"string\") {\n      element.nodeValue = node\n    } else {\n      element = container.insertBefore(\n        createElement(node, svg),\n        (nextSibling = element)\n      )\n      removeElement(container, nextSibling, oldNode.data)\n    }\n  }\n  return element\n}\n","import {h} from 'composi'\n\nexport default function HeroSearch({search, searchResults, blurSearchInput}) {\n  return (\n    <div id=\"search-component\">\n      <h4>Hero Search</h4>\n\n      <input id=\"search-box\" onkeyup={(e)=> search(e)} onblur={() => blurSearchInput()} />\n\n      {\n        searchResults.length > 0 && (\n          <ul class=\"search-result\">\n            {\n              searchResults.map(hero => (\n                <li>\n                  <a href={`#/detail/${hero.id}`}>{hero.name}</a>\n                </li>\n              ))\n            }\n          </ul>\n        )\n      }\n    </div>\n  )\n}","import {h, Component} from 'composi'\nimport HeroSearch from './hero-search'\n\nexport default function HeroDashboard({heroes, search, searchResults, blurSearchInput}) {\n  const selectHeroes = heroes.slice(1, 5)\n  return (\n    <div class='dashboard'>\n      <h3>Top Heroes</h3>\n      <div class=\"grid grid-pad\">\n        {\n          selectHeroes.map(hero => (\n            <a class=\"col-1-4\" href={`#/detail/${hero.id}`}>\n              <div class=\"module hero\">\n                <h4>{hero.name}</h4>\n              </div>\n            </a>\n          ))\n        }\n      </div>\n      <HeroSearch \n        search={search} \n        heroes={heroes}\n        searchResults={searchResults}\n        blurSearchInput={blurSearchInput} />\n    </div>\n  )\n}\n","import {h, Component} from 'composi'\n\n\nexport default function HeroList({heroes, deleteItem, addHero}) {\n\n  return (\n    <div>\n      <p class='form--add-hero'>\n        <label htmlFor=\"add-hero\">Hero name: </label>\n        <input id='add-hero' type=\"text\"/>\n        <button onclick={addHero}>Add</button>\n      </p>\n      <ul class=\"heroes\">\n        {\n          heroes.map(hero => (\n            <li>\n              <a href={`#/detail/${hero.id}`}>\n                <span class=\"badge\">{hero.id}</span> \n                <span class='hero-link'>{hero.name}</span>\n              </a>\n              <button data-id={hero.id} class=\"delete\" title=\"delete hero\"\n              onclick={(e) => deleteItem(e)}>x</button>\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  )\n}","import {h, Component} from 'composi'\n\nexport default function HeroDetail({hero, onHeroNameChange, resetName, saveName}) {\n  return (\n    <div id='hero-detail'>\n      <h2>{hero.name} details!</h2>\n      <div><label>id:</label> {hero.id}</div>\n      <div>\n        <label for='update-name'>name: </label>\n        <input id='update-name' placeholder={hero.name} oninput={(e) => onHeroNameChange(e)} />\n      </div>\n      <p class='hero-detail--buttons'>\n        <button onclick={resetName}>Reset</button>\n        <button onclick={saveName}>Save</button>\n      </p>\n    </div>\n  )\n}\n","// Fetch mock heroes:\nexport default function fetchHeroes() {\n  return fetch('/dev/data/mock-heroes.js')\n  .then(function(response) {\n    return response.json()\n  })\n}","/**\n * A mixin function used for updating component state.\n * @param {object} obj1 An object as the target.\n * @param {object} obj2 An object of properties to target.\n */\nexport const mixin = (obj1, obj2) => {\n  Object.keys(obj2).forEach(p => {\n    if (obj2.hasOwnProperty(p)) {\n      Object.defineProperty(obj1, p, {\n        value: obj2[p],\n        writable: true,\n        enumerable: false,\n        configurable: true\n      })\n    }\n  })\n}\n","import {h} from './h'\nimport {patch} from './patch'\nimport {mixin} from './mixin'\n\nvar rAF = window.requestAnimationFrame\n  || window.webkitRequestAnimationFrame\n  || window.mozRequestAnimationFrame\n  || window.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16) }\n\n/**\n * @type {object} dataStore A pseudo-private property using Date object to store the component's state.\n */\nconst dataStore = new Date().getTime()\n\n/**\n * @class Class to create a component\n */\nexport class Component {\n  /**\n   * Constructor for Component class.\n   * @typedef {object} props An object of property/values to configure the class instance.\n   * @property {string|element} props.container The container element in which to render the component.\n   * @property {state} [props.state] The state object of the component. This can be of type boolean, string, number, object or array.\n   * @property {function} props.render A function that returns nodes to render to the DOM.\n   */\n  constructor(props) {\n    /** @type {props} */\n    if (!props) props = {}\n    this.selector = props.container || props.root ||  'body'\n    \n    if (props.render) {\n      this.render = props.render\n    }\n    \n    if (props.state) {\n      this.state = props.state\n    }\n\n    this.oldNode = null\n    if (this.selector) {\n      this.container = document.querySelector(this.selector)\n    }\n    this.componentShouldUpdate = true\n    \n    this.mounted = false\n    this.element\n    \n    /**\n     * Handle lifecycle methods.\n     */\n    if (props.beforeCreateComponent) {\n      this.beforeCreateComponent = props.beforeCreateComponent\n    }\n    if (props.componentWasCreated) {\n      this.componentWasCreated = props.componentWasCreated\n    }\n    if (props.componentWillUpdate) {\n      this.componentWillUpdate = props.componentWillUpdate\n    }\n    if (props.componentDidUpdate) {\n      this.componentDidUpdate = props.componentDidUpdate\n    }\n    if (props.componentWillUnmount) {\n      this.componentWillUnmount = props.componentWillUnmount\n    }\n  }\n\n  /**\n   * Define getters and setters for state.\n   */\n  set state(data) {\n    this[dataStore] = data\n    rAF(() => this.update())\n  }\n\n  get state() {\n    return this[dataStore]\n  }\n  \n  /**\n   * Method to set a component's state.\n   * @param {string|number|boolean|object|array} data The data to set.\n   * @param {number} [position] The index of an array whose data you want to set.\n   */\n  setState(data, position) {\n    if (typeof data === 'function') {\n      const state = data.call(this, this.state)\n      if (typeof state !== 'function' && !!state) this.setState(state)\n    }\n    if (Array.isArray(this.state)) {\n      const state = this.state\n      if (position || position === 0) {\n        if (typeof state[position] === 'object') {\n          mixin(state[position], data)\n          this.state = state\n        } else {\n          state[position] = data\n          this.state = state\n        }\n      } else {\n        this.state = state\n      }\n    } else if (typeof this.state === 'object') {\n      const state = this.state\n      mixin(state, data)\n      this.state = state\n    } else {\n      this.state = data\n    }\n  }\n\n  /**\n   * Function to render component after data changes.\n   * If data is passed as argument, it will be used.\n   * Otherwise state will be used.\n   * @param {boolean|number|string|object|array} [data ]\n   * @returns void\n   */\n  update(data) {\n    if (!this.render) return\n\n    // If componentShouldUpdate is set to false, render one time only.\n    // All other updates will be ignored.\n    if (!this.componentShouldUpdate && this.mounted) return\n\n    // If data is 0 or not boolean, use,\n    // else use component state.\n    let __data  = this.state\n    if (data !== true && data) __data = data\n\n    if (this.container && typeof this.container === 'string') {\n      this.selector = this.container\n      this.container = document.querySelector(this.container)\n    }\n\n    // Check if vnode already exists.\n    // Used for deciding whether to fire lifecycle events.\n    const __oldNode = this.oldNode\n    const __render = this.render\n    function testIfVNodesDiffer(data) {\n      try {\n        if (JSON.stringify(this.oldNode) === JSON.stringify(__render(data))) {\n          return false\n        } else {\n          return true\n        }\n      } catch(err) {\n        return true\n      }\n    }\n    // Create virtual dom and check if component id already exists in document.\n    const vdom = this.render(__data)\n    let elem\n    if (vdom && vdom.props && vdom.props.id) {\n      try {\n        elem = this.container.querySelector(`#${vdom.props.id}`)\n      } catch(err) {}\n    }\n\n    // If component element id already exists in DOM, \n    // remove it before rendering the component.\n    if (elem && !this.mounted) {\n      elem.parentNode.removeChild(elem)\n    }\n\n    // Patch DOM with component update.\n    this.element = patch(\n      this.oldNode,\n      (this.oldNode = this.render(__data)),\n      this.element,\n      this.container\n    )\n    if (this.mounted && this.oldNode && testIfVNodesDiffer(__data)) {\n      this.componentWillUpdate && this.componentWillUpdate(this)\n    } else {\n      this.beforeCreateComponent && this.beforeCreateComponent(this)\n      this.componentWasCreated && this.componentWasCreated(this)\n      this.mounted = true\n      return\n    }\n    this.componentDidUpdate && testIfVNodesDiffer(__data) && this.componentDidUpdate(this)\n  }\n  \n  /**\n   * Method to destroy component.\n   * First unbind events.\n   * Then remove component element from DOM.\n   * Also null out component properties.\n   * @returns void\n   */\n  unmount() {\n    const self = this\n    this.componentWillUnmount && this.componentWillUnmount(this)\n    this.container.removeChild(this.element)\n    this.container = undefined\n    for (let key in this) {\n      delete this[key]\n    }\n    delete this.state\n    this.update = undefined\n    this.unmount = undefined\n  }\n}\n\n// Polyfill for Element.closest:\nif (window.Element && !Element.prototype.closest) {\n  Element.prototype.closest = \n  function(s) {\n    let matches = (this.document || this.ownerDocument).querySelectorAll(s)\n    let i\n    let el = this\n    do {\n      i = matches.length\n      while (--i >= 0 && matches.item(i) !== el) {}\n    } while ((i < 0) && (el = el.parentElement))\n    return el\n  }\n}\n","import {h, Component} from 'composi'\n\nexport default new Component ({\n  container: 'header',\n  state: 'Tour of Heroes',\n  render: (message) => <h1><a href=\"/\">{message}</a></h1>\n})\n","import {h, Component} from 'composi'\n\nexport default new Component({\n  container: 'section',\n  state: true,\n  render: (data) => {\n    return (\n      <nav>\n        <ul>\n          <li><a href=\"#/dashboard\">Dashboard</a></li>\n          <li><a href=\"#/heroes\">Heroes</a></li>\n        </ul>\n      </nav>\n    )\n  }\n})","/*!\r\n * webix-routie - router for Webix-Jet\r\n * v0.4.0\r\n * MIT License\r\n *\r\n * based on routie - a tiny hash router\r\n * http://projects.jga.me/routie\r\n * copyright Greg Allen 2016\r\n * MIT License\r\n*/\r\n\r\nvar Routie = function(w, isModule) {\r\n\r\n  var routes = [];\r\n  var map = {};\r\n  var reference = 'routie';\r\n  var oldReference = w[reference];\r\n  var oldUrl;\r\n\r\n  var Route = function(path, name) {\r\n    this.name = name;\r\n    this.path = path;\r\n    this.keys = [];\r\n    this.fns = [];\r\n    this.params = {};\r\n    this.regex = pathToRegexp(this.path, this.keys, false, false);\r\n\r\n  };\r\n\r\n  Route.prototype.addHandler = function(fn) {\r\n    this.fns.push(fn);\r\n  };\r\n\r\n  Route.prototype.removeHandler = function(fn) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      var f = this.fns[i];\r\n      if (fn == f) {\r\n        this.fns.splice(i, 1);\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  Route.prototype.run = function(params) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      if (this.fns[i].apply(this, params) === false)\r\n        return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  Route.prototype.match = function(path, params){\r\n    var m = this.regex.exec(path);\r\n\r\n    if (!m) return false;\r\n\r\n\r\n    for (var i = 1, len = m.length; i < len; ++i) {\r\n      var key = this.keys[i - 1];\r\n\r\n      var val = ('string' == typeof m[i]) ? decodeURIComponent(m[i]) : m[i];\r\n\r\n      if (key) {\r\n        this.params[key.name] = val;\r\n      }\r\n      params.push(val);\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  Route.prototype.toURL = function(params) {\r\n    var path = this.path;\r\n    for (var param in params) {\r\n      path = path.replace('/:'+param, '/'+params[param]);\r\n    }\r\n    path = path.replace(/\\/:.*\\?/g, '/').replace(/\\?/g, '');\r\n    if (path.indexOf(':') != -1) {\r\n      throw new Error('missing parameters for url: '+path);\r\n    }\r\n    return path;\r\n  };\r\n\r\n  var pathToRegexp = function(path, keys, sensitive, strict) {\r\n    if (path instanceof RegExp) return path;\r\n    if (path instanceof Array) path = '(' + path.join('|') + ')';\r\n    path = path\r\n      .concat(strict ? '' : '/?')\r\n      .replace(/\\/\\(/g, '(?:/')\r\n      .replace(/\\+/g, '__plus__')\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional){\r\n        keys.push({ name: key, optional: !! optional });\r\n        slash = slash || '';\r\n        return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\r\n      })\r\n      .replace(/([/.])/g, '\\\\$1')\r\n      .replace(/__plus__/g, '(.+)')\r\n      .replace(/\\*/g, '(.*)');\r\n    return new RegExp('^' + path + '$', sensitive ? '' : 'i');\r\n  };\r\n\r\n  var addHandler = function(path, fn) {\r\n    var s = path.split(' ');\r\n    var name = (s.length == 2) ? s[0] : null;\r\n    path = (s.length == 2) ? s[1] : s[0];\r\n\r\n    if (!map[path]) {\r\n      map[path] = new Route(path, name);\r\n      routes.push(map[path]);\r\n    }\r\n    map[path].addHandler(fn);\r\n  };\r\n\r\n  var routie = function(path, fn) {\r\n    if (typeof fn == 'function') {\r\n      addHandler(path, fn);\r\n      routie.reload();\r\n    } else if (typeof path == 'object') {\r\n      for (var p in path) {\r\n        addHandler(p, path[p]);\r\n      }\r\n      routie.reload();\r\n    } else if (typeof fn === 'undefined') {\r\n      routie.navigate(path);\r\n    }\r\n  };\r\n\r\n  routie.lookup = function(name, obj) {\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      if (route.name == name) {\r\n        return route.toURL(obj);\r\n      }\r\n    }\r\n  };\r\n\r\n  routie.remove = function(path, fn) {\r\n    var route = map[path];\r\n    if (!route)\r\n      return;\r\n    route.removeHandler(fn);\r\n  };\r\n\r\n  routie.removeAll = function() {\r\n    map = {};\r\n    routes = [];\r\n    oldUrl = '';\r\n  };\r\n\r\n  routie.navigate = function(path, options) {\r\n    options = options || {};\r\n    var silent = options.silent || false;\r\n\r\n    if (silent) {\r\n      removeListener();\r\n    }\r\n    setTimeout(function() {\r\n      window.location.hash = path;\r\n\r\n      if (silent) {\r\n        setTimeout(function() { \r\n          addListener();\r\n        }, 1);\r\n      }\r\n\r\n    }, 1);\r\n  };\r\n\r\n  routie.noConflict = function() {\r\n    w[reference] = oldReference;\r\n    return routie;\r\n  };\r\n\r\n  var getHash = function() {\r\n    return window.location.hash.substring(1);\r\n  };\r\n\r\n  var checkRoute = function(hash, route) {\r\n    var params = [];\r\n    if (route.match(hash, params)) {\r\n      return (route.run(params) !== false ? 1 : 0);\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  var hashChanged = routie.reload = function() {\r\n    var hash = getHash();\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      var state = checkRoute(hash, route);\r\n      if (state === 1) {\r\n        //route processed\r\n        oldUrl = hash;\r\n        break;\r\n      } else if (state === 0){\r\n        //route rejected\r\n        routie.navigate(oldUrl, { silent:true });\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  var addListener = function() {\r\n    if (w.addEventListener) {\r\n      w.addEventListener('hashchange', hashChanged, false);\r\n    } else {\r\n      w.attachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n\r\n  var removeListener = function() {\r\n    if (w.removeEventListener) {\r\n      w.removeEventListener('hashchange', hashChanged);\r\n    } else {\r\n      w.detachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n  addListener();\r\n  oldUrl = getHash();\r\n\r\n  if (isModule){\r\n    return routie;\r\n  } else {\r\n    w[reference] = routie;\r\n  }\r\n   \r\n};\r\n\r\nif (typeof module == 'undefined'){\r\n  Routie(window);\r\n} else {\r\n  module.exports = Routie(window,true);\r\n  module.exports.default = module.exports;\r\n}","import {h, render, Component} from 'composi'\nimport title from './components/title'\nimport menu from './components/menu'\nimport App from './components/app'\n\nconst app = new App()","import {h, render, Component} from 'composi'\nimport HeroDashboard from './hero-dashboard'\nimport HeroList from './hero-list'\nimport HeroDetail from './hero-detail'\nimport setupRoutes from '../utils/routes'\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props) \n    this.container = 'section'\n    this.state = {\n      activeComponent: 'dashboard',\n      heroes: [],\n      selectedHero: '',\n      searchResults: []\n    }\n  }\n\n  render(state) {\n\n    return (\n      <div class=\"app-root\">\n        {\n          state.activeComponent === 'dashboard' && <HeroDashboard \n            heroes={this.state.heroes}\n            search={this.search.bind(this)}\n            searchResults={this.state.searchResults} \n            blurSearchInput={this.blurSearchInput.bind(this)} />\n        }\n        {\n          state.activeComponent === 'heroes' && <HeroList \n            heroes={this.state.heroes} \n            deleteItem={this.deleteItem.bind(this)} \n            addHero={this.addHero.bind(this)} />\n        }\n        {\n          state.activeComponent === 'detail' && <HeroDetail \n            hero={this.state.selectedHero} \n            deleteItem={this.deleteItem}\n            onHeroNameChange={this.onHeroNameChange.bind(this)} \n            resetName={this.resetName.bind(this)} \n            saveName={this.saveName.bind(this)} />\n        }\n      </div>\n    )\n  }\n\n  componentWasCreated() {\n    setupRoutes(this)\n  }\n\n  deleteItem(e) {\n    const id = e.target.dataset.id\n    const heroes = this.state.heroes\n    const position = heroes.findIndex(hero => id == hero.id)\n    heroes.splice(position, 1)\n    this.setState({heroes})\n  }\n\n  onHeroNameChange(e) {\n    const value = e.target.value\n    if (value) {\n      const selectedHero = this.state.selectedHero\n      selectedHero.name = value\n      console.log(selectedHero)\n      this.setState({selectedHero})\n    }\n  }\n\n  resetName(e) {\n    const selectedHero = this.state.selectedHero\n    selectedHero.name = selectedHero.originalName\n    this.setState({selectedHero})\n  }\n\n  saveName(e) {\n    window.location.hash = '#/heroes'\n  }\n\n  addHero(e) {\n    const input = e.target.parentNode.querySelector('#add-hero')\n    const value = input.value\n    if (value) {\n      const lastId = this.state.heroes[this.state.heroes.length -1].id\n      const newHero = {id: String(parseInt(lastId) + 1), name: value}\n      const heroes = this.state.heroes\n      heroes.push(newHero)\n      this.setState({heroes})\n      input.value = ''\n    }\n  }\n\n  search(e) {\n    const input = e.target\n    const value = input.value\n    const heroes = this.state.heroes\n    const searchResults = heroes.filter(hero => {\n      const name = hero.name.toLowerCase()\n      return name.match(value.toLowerCase())\n    })\n    this.setState({searchResults: searchResults})\n  }\n\n  blurSearchInput(e) {\n    const searchResults = this.state.searchResults\n    setTimeout(() => {\n      this.setState({searchResults: []})\n    }, 250)\n  }\n}","import {Routie} from 'webix-routie'\nimport fetchHeroes from './fetch-heroes'\n\nexport default function(self) {\n  routie({\n    '': function() {\n      if (!self.state.heroes.length) {\n        fetchHeroes()\n          .then(heroes => {\n            self.setState({heroes, activeComponent: 'dashboard'})\n          })\n      }\n    },\n    '/dashboard': function() {\n      const state = self.state\n      if (!state.heroes.length) {\n        fetchHeroes()\n          .then(heroes => {\n            self.setState({heroes, activeComponent: 'dashboard'})\n          })\n      } else {\n        self.setState({activeComponent: 'dashboard'})\n      }\n    },\n    '/heroes': function() {\n      // console.log('Hero List')\n      const state = self.state\n      if (!state.heroes.length) {\n        fetchHeroes()\n          .then(heroes => {\n            self.setState({heroes, activeComponent: 'heroes'})\n          })\n      } else {\n        self.setState({activeComponent: 'heroes'})\n      }\n    },\n    '/detail/:id': function(id) {\n      const state = self.state\n      if (!state.heroes.length) {\n        fetchHeroes()\n          .then(heroes => {\n            const position = heroes.findIndex(person => person.id == id)\n            const hero = heroes[position]\n            hero.originalName = hero.name\n            self.setState({heroes, activeComponent: 'detail', selectedHero: hero})\n          })\n      } else {\n        const position = state.heroes.findIndex(person => person.id === id)\n        const hero = state.heroes[position]\n        hero.originalName = hero.name\n        self.setState({activeComponent: 'detail', selectedHero: hero})\n      }\n    }\n  })\n}"],"names":["h","type","props","stack","node","children","args","concat","length","Array","isArray","shift","map","push","item","mixin","obj1","obj2","result","i","setProps","element","name","value","oldValue","style","String","err","setAttributeNS","setAttribute","removeAttribute","createElement","svg","document","createTextNode","createElementNS","keys","forEach","key","appendChild","child","createNode","getKey","diffAndPatch","container","oldNode","nextSibling","insertBefore","oldProps","len","oldLen","oldKeyed","oldElements","keyed","k","oldElement","childNodes","oldChild","oldKey","j","newChild","newKey","keyedNode","removeElement","reusableNode","nodeValue","data","HeroSearch","search","searchResults","blurSearchInput","id","onkeyup","e","onblur","class","href","hero","HeroDashboard","heroes","selectHeroes","slice","HeroList","deleteItem","addHero","htmlFor","onclick","data-id","title","HeroDetail","onHeroNameChange","resetName","saveName","for","placeholder","oninput","fetchHeroes","fetch","then","response","json","removeChild","hasOwnProperty","p","defineProperty","rAF","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","dataStore","Date","getTime","Component","selector","root","render","state","this","querySelector","componentShouldUpdate","mounted","beforeCreateComponent","componentWasCreated","componentWillUpdate","componentDidUpdate","componentWillUnmount","position","call","setState","babelHelpers.typeof","testIfVNodesDiffer","JSON","stringify","__render","__data","vdom","elem","parentNode","body","patch","undefined","update","unmount","_this","Element","prototype","closest","s","matches","ownerDocument","querySelectorAll","el","parentElement","message","Routie","w","isModule","oldUrl","routes","oldReference","Route","path","fns","params","regex","pathToRegexp","addHandler","fn","removeHandler","c","splice","run","apply","match","m","exec","val","decodeURIComponent","toURL","param","replace","indexOf","Error","sensitive","strict","RegExp","join","_","slash","format","capture","optional","split","routie","reload","navigate","lookup","obj","route","remove","removeAll","options","silent","location","hash","noConflict","getHash","substring","checkRoute","hashChanged","addListener","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","module","exports","default","activeComponent","bind","selectedHero","self","findIndex","person","originalName","target","dataset","log","input","lastId","newHero","parseInt","filter","toLowerCase"],"mappings":"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"}